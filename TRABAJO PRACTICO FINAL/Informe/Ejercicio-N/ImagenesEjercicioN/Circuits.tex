\input{../../Informe/Header-Circuits.tex}
\begin{document}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%							COMPONENTES								%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%74LS138 Decoder
\newcommand{\deco}[1] % #1 = name
{node(#1_origin){}
	node[dipchip, num pins=16, hide numbers, no topmark, external pins width=0](C3){}
	
	($ (C3.bpin 1) !.5! (C3.bpin 16) $) ++ (0,0.5) node[](){$74LS138$}

	%LEFT NODES
	node[right, font=\footnotesize] at (C3.bpin 1) {$A$}
	node[right, font=\footnotesize] at (C3.bpin 2) {$B$}	
	node[right, font=\footnotesize] at (C3.bpin 3) {$C$}
	node[right, font=\footnotesize] at (C3.bpin 8) {$E$}		

	(C3.bpin 1) -- ++ (-0.5,0) node[](#1_a){}	
	(C3.bpin 2) -- ++ (-0.5,0) node[](#1_b){}
	(C3.bpin 3) -- ++ (-0.5,0) node[](#1_c){}	
	(C3.bpin 8) -- ++ (-0.5,0) node[](#1_e){}
	
	(C3.bpin 8) -- ++ (-0.075,0) node[ocirc](){}
	

	%RIGHT NODES
	node[left, font=\footnotesize] at (C3.bpin 16) {$Y_0$}	
	node[left, font=\footnotesize] at (C3.bpin 15) {$Y_1$}	
	node[left, font=\footnotesize] at (C3.bpin 14) {$Y_2$}
	node[left, font=\footnotesize] at (C3.bpin 13) {$Y_3$}
	node[left, font=\footnotesize] at (C3.bpin 12) {$Y_4$}	
	node[left, font=\footnotesize] at (C3.bpin 11) {$Y_5$}	
	node[left, font=\footnotesize] at (C3.bpin 10) {$Y_6$}
	node[left, font=\footnotesize] at (C3.bpin 9) {$Y_7$}
	
	(C3.bpin 16) -- ++ (0.5,0) node[](#1_y0){}
	(C3.bpin 15) -- ++ (0.5,0) node[](#1_y1){}
	(C3.bpin 14) -- ++ (0.5,0) node[](#1_y2){}
	(C3.bpin 13) -- ++ (0.5,0) node[](#1_y3){}
	(C3.bpin 12) -- ++ (0.5,0) node[](#1_y4){}
	(C3.bpin 11) -- ++ (0.5,0) node[](#1_y5){}
	(C3.bpin 10) -- ++ (0.5,0) node[](#1_y6){}
	(C3.bpin 9) -- ++ (0.5,0) node[](#1_y7){}		
	
	(C3.bpin 16) -- ++ (0.075,0) node[ocirc](){}
	(C3.bpin 15) -- ++ (0.075,0) node[ocirc](){}
	(C3.bpin 14) -- ++ (0.075,0) node[ocirc](){}
	(C3.bpin 13) -- ++ (0.075,0) node[ocirc](){}
	(C3.bpin 12) -- ++ (0.075,0) node[ocirc](){}
	(C3.bpin 11) -- ++ (0.075,0) node[ocirc](){}
	(C3.bpin 10) -- ++ (0.075,0) node[ocirc](){}
	(C3.bpin 9) -- ++ (0.075,0) node[ocirc](){}
	
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%							CIRCUITOS								%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{page}
\begin{circuitikz}[american voltages]

	\def\xspace{0.75}
	
	\ctikzset{multipoles/thickness=3}				%Ancho de las lineas de las cajas
	\ctikzset{diodes/scale=0.6}	
	\ctikzset{multipoles/dipchip/width=1.5}			%Ancho del 555
		
	\draw
		(0,0) ++ (2,0) \deco{dec}
		
		(dec_c.center) node[circ, label=left:$A_{15}$](){}
		(dec_b.center) node[circ, label=left:$A_{14}$](){}
		(dec_a.center) node[circ, label=left:$A_{11}$](){}
		
		(dec_y0.center) node[american or port, anchor = in 1](or1){}
		(dec_y1.center) -| (or1.in 2)
		(or1.out) -- ++ (0.25,0) node[circ, label=right:$CS0$](){}
		
		(dec_y2.center) -- ++ (1.75,0) node[circ, label=right:$CS1$](){}
		
		(dec_y5.center) -- ++ (1.75,0) node[circ, label=right:$CS2$](){}
		
		(dec_y6.center) node[american or port, anchor = in 1](or2){}
		(dec_y7.center) -| (or2.in 2)
		(or2.out) -- ++ (0.25,0) node[circ, label=right:$CS3$](){}			
	;

\end{circuitikz}
\end{page}

\end{document}